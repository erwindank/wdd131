<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WDD 131 - Dynamic Web Fundamentals - Erwin Solorzano</title>
    <!-- Meta description -->
    <meta name="description"
        content="WDD 131 - Dynamic Web Fundamentals, Erwin Solorzano, HTML, CSS, JavaScript, responsive design, Flexbox, Grid">
    <meta name="author" content="Erwin Solorzano">
    <link rel="stylesheet" href="styles/base.css">
    <!-- Google Fonts preconnect links -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Example Google Font (Roboto + Open Sans) -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Open+Sans&display=swap"
        rel="stylesheet">
    <script defer src="scripts/getdates.js"></script>
</head>
<body>
    <main>
        <h1>Lazy Loading Images</h1>
        <p>Scroll down to see images load as they come into view.</p>
        <img class="lazy" data-src="images/gu" alt="Image 1" width="600" height="400">
        <img class="lazy" data-src="images/coban_guatemala_temple.jpg" alt="Image 2" width="600" height="400">
        <img class="lazy" data-src="images/coban_guatemala_temple.jpg" alt="Image 3" width="600" height="400">
        <img class="lazy" data-src="images/coban_guatemala_temple.jpg" alt="Image 4" width="600" height="400">
        <img class="lazy" data-src="images/coban_guatemala_temple.jpg" alt="Image 5" width="600" height="400">
        <img class="lazy" data-src="images/coban_guatemala_temple.jpg" alt="Image 6" width="600" height="400">

        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const lazyImages = document.querySelectorAll('img.lazy');

                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.classList.remove('lazy');
                            observer.unobserve(img);
                        }
                    });
                });

                lazyImages.forEach(img => {
                    imageObserver.observe(img);
                });
            });
        </script>
    </main>
</body>
<footer>
    <p>&copy; <span id="currentyear"></span> | Erwin Solorzano | WDD 131</p>
    <p id="lastModified"></p>
</footer>
</html>
